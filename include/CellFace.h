#ifndef CELLFACE
#define CELLFACE

#include <vector>

#include "InterpolationData.h"

//------------------------------------------------------------------------------------------------------------------------------------------------------
/// @file CellFace.h
/// @brief Structure for a single cell face, ie in either x, y or z direction. Contains data required for the calculations, but need to be updated for
/// each time step as no data stored by grid. Also contains list of particles contained in cell to reduce number of loops in data transitions.
/// @author Ina M. Sorensen
/// @version 1.0
/// @date 27.06.16
///
/// @todo
//------------------------------------------------------------------------------------------------------------------------------------------------------


struct CellFace
{
  //----------------------------------------------------------------------------------------------------------------------
  /// @brief Store grid index
  //----------------------------------------------------------------------------------------------------------------------
  int m_iIndex;
  int m_jIndex;
  int m_kIndex;
  //----------------------------------------------------------------------------------------------------------------------
  /// @brief Number of particles affecting cell
  //----------------------------------------------------------------------------------------------------------------------
  int m_noParticlesContributing;
  //----------------------------------------------------------------------------------------------------------------------
  /// @brief List of interpolation data containing particle pointer and interpolation weights
  //----------------------------------------------------------------------------------------------------------------------
  std::vector<InterpolationData*> m_interpolationData;
  //----------------------------------------------------------------------------------------------------------------------
  /// @brief Collision state of cell. Is it colliding, empty or interior
  //----------------------------------------------------------------------------------------------------------------------
  State m_state=State::Interior;
  State m_testState=State::Interior;
  //----------------------------------------------------------------------------------------------------------------------
  /// @brief Mass of cell
  //----------------------------------------------------------------------------------------------------------------------
  float m_mass=0.0;
  //----------------------------------------------------------------------------------------------------------------------
  /// @brief Test Mass of cell
  //----------------------------------------------------------------------------------------------------------------------
  float m_testMass=0.0;
  //----------------------------------------------------------------------------------------------------------------------
  /// @brief Density of cell
  //----------------------------------------------------------------------------------------------------------------------
  float m_density=1.0;
  //----------------------------------------------------------------------------------------------------------------------
  /// @brief Cell face deviatoric force
  //----------------------------------------------------------------------------------------------------------------------
  float m_deviatoricForce=0.0;
  //----------------------------------------------------------------------------------------------------------------------
  /// @brief Cell face deviatoric force
  //----------------------------------------------------------------------------------------------------------------------
  float m_deviatoricForce_test=0.0;
  //----------------------------------------------------------------------------------------------------------------------
  /// @brief Cell face velocity
  //----------------------------------------------------------------------------------------------------------------------
  float m_velocity=0.0;
  //----------------------------------------------------------------------------------------------------------------------
  /// @brief Cell face previous velocity
  //----------------------------------------------------------------------------------------------------------------------
  float m_previousVelocity=0.0;
  //----------------------------------------------------------------------------------------------------------------------
  /// @brief Heat conductivity for cell. Used in calculating temperature of cell
  //----------------------------------------------------------------------------------------------------------------------
  float m_heatConductivity=0.0;
};

#endif // CELLFACE

